# ============================================================================
# CARAMEL ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env and fill in your actual values
# SECURITY: Never commit .env with real secrets - use .env.example only
# See docs/CONFIGURATION.md and docs/SECRETS.md for detailed instructions
# 
# NOTE: Environment variables use ASP.NET Core convention with __ (double underscore)
# for nested configuration paths.
# Example: ConnectionStrings__Caramel corresponds to ConnectionStrings:Caramel in JSON
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection - Required for application startup

# Database username (development default: 'caramel')
POSTGRES_USER=caramel

# Database password (development default: 'caramel')
# SECURITY: Use strong password in staging/production
POSTGRES_PASSWORD=caramel

# Database name (development default: 'caramel_db')
POSTGRES_DB=caramel_db

# PostgreSQL connection string for Caramel application
# Docker: Host=pgsql;Database=caramel_db;Username=caramel;Password=caramel
# Local: Host=localhost;Port=5433;Database=caramel_db;Username=caramel;Password=caramel
ConnectionStrings__Caramel=Host=pgsql;Database=caramel_db;Username=caramel;Password=caramel

# PostgreSQL connection string for Quartz scheduler
# Usually same as above
ConnectionStrings__Quartz=Host=pgsql;Database=caramel_db;Username=caramel;Password=caramel

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
# Redis cache server - Required for application startup

# Redis password (development default: 'caramel_redis')
# SECURITY: Use strong password in staging/production
REDIS_PASSWORD=caramel_redis

# Redis connection string (format: host:port[,password=pwd])
# Docker: redis:6379,password=caramel_redis
# Local: localhost:6380,password=caramel_redis (or 6379 if using default Docker)
ConnectionStrings__Redis=redis:6379,password=caramel_redis

# ============================================================================
# DISCORD BOT CONFIGURATION
# ============================================================================
# Discord integration settings
# Get values from: https://discord.com/developers/applications

# Discord bot token - REQUIRED for Discord bot functionality
# Format: MTk4NjIyNDgzNzE3Mzc0OTc2.C-LXXQ.x...
# Leave empty if not using Discord integration
DiscordConfig__Token=

# Discord application public key - REQUIRED for Discord interactions
# Get from: Applications → Your App → General Information
# Leave empty if not using Discord integration
DiscordConfig__PublicKey=

# ============================================================================
# TWITCH INTEGRATION CONFIGURATION
# ============================================================================
# Twitch OAuth and API settings
# Get values from: https://dev.twitch.tv/console/apps

# Twitch application client ID - REQUIRED for Twitch integration
TwitchConfig__ClientId=

# Twitch application client secret - REQUIRED for Twitch integration
# SECURITY: Keep this secret!
TwitchConfig__ClientSecret=

# Twitch OAuth access token - Generated via OAuth flow
# Leave empty on first run, will be populated after successful OAuth
# Store securely after generation (using user-secrets in dev)
TwitchConfig__AccessToken=

# Twitch OAuth refresh token - Generated via OAuth flow
# Leave empty on first run, will be populated after successful OAuth
TwitchConfig__RefreshToken=

# Twitch OAuth callback URL - Must match registered callback in Twitch console
# Development: http://localhost:8080/auth/twitch/callback
# Production: https://your-domain.com/auth/twitch/callback
TwitchConfig__OAuthCallbackUrl=http://localhost:8080/auth/twitch/callback

# Session encryption key - Used to encrypt Twitch session data
# Generate secure random: openssl rand -base64 32
# SECURITY: Use different key per environment
TwitchConfig__EncryptionKey=

# Twitch channel point reward GUID (optional)
# Set if you want to enable "Message The AI" custom reward
# Format: 01abc02b-9234-56cd-ef01-23456789abc0
TwitchConfig__MessageTheAiRewardId=

# ============================================================================
# TWITCH NOTIFICATION CONFIGURATION
# ============================================================================
# Service account for sending Twitch notifications

# Twitch service account access token for notifications
# Different from user token - get from service account OAuth
TwitchConfig__NotificationAccessToken=

# Twitch user ID of the bot account (numeric only)
# Used to send notifications and perform moderator actions
TwitchConfig__NotificationBotUserId=

# ============================================================================
# gRPC CONFIGURATION
# ============================================================================
# gRPC service for inter-service communication

# gRPC server host
# Docker: caramel-service (service name from compose.yaml)
# Local: localhost
GrpcHostConfig__Host=caramel-service

# gRPC server port (default: 5270)
GrpcHostConfig__Port=5270

# Use HTTPS for gRPC communication
# false for development, true for staging/production
GrpcHostConfig__UseHttps=false

# API token for gRPC authentication
# SECURITY: Use strong random token, different per environment
# Development: simple token like 'dev-api-token'
# Production: use strong random like: openssl rand -base64 32
GrpcHostConfig__ApiToken=dev-api-token

# Validate SSL certificate for gRPC connections
# false for development, true for production
GrpcHostConfig__ValidateSslCertificate=false

# ============================================================================
# AI/LLM CONFIGURATION
# ============================================================================
# Language model settings for AI features

# AI model identifier
# Examples: gpt-4, gpt-3.5-turbo, claude-3-sonnet, claude-3-opus
CaramelAiConfig__ModelId=

# AI service endpoint
# OpenAI: https://api.openai.com/v1
# Azure: https://{resource}.openai.azure.com/
CaramelAiConfig__Endpoint=

# AI service API key
# SECURITY: Keep this secret! Store in user-secrets or vault
CaramelAiConfig__ApiKey=

# AI system prompt
CaramelAiConfig__SystemPrompt=

# ============================================================================
# OBS WEBSOCKET CONFIGURATION
# ============================================================================
# OBS integration for stream control

# OBS WebSocket server URL
# Docker: ws://host.docker.internal:4455 (reach host OBS from container)
# Local: ws://localhost:4455 (local OBS)
# Format: ws://host:port (use ws:// for unencrypted, wss:// for encrypted)
ObsConfig__Url=ws://host.docker.internal:4455

# OBS WebSocket authentication password
# Set in OBS: Tools → WebSocket Server Settings → Server Password
# Leave empty if OBS has no password configured
ObsConfig__Password=

# ============================================================================
# APPLICATION ENVIRONMENT
# ============================================================================
# Runtime environment configuration

# Application environment (affects which appsettings.*.json is loaded)
# Development - for local development (verbose logging, relaxed security)
# Staging - for staging/testing (moderate logging, security enabled)
# Production - for production (minimal logging, strict security)
# Default: Development
ASPNETCORE_ENVIRONMENT=Development

# ============================================================================
# NOTES FOR DEVELOPERS
# ============================================================================
# 1. For local development:
#    - Use user-secrets instead of .env file (see docs/SECRETS.md)
#    - Run: dotnet user-secrets init (in each project)
#    - Then: dotnet user-secrets set "KEY" "value"
#    - Example: dotnet user-secrets set "DiscordConfig:Token" "your-token"
#
# 2. Environment Variable Naming (ASP.NET Core Convention):
#    - Use __ (double underscore) for nested paths in JSON
#    - JSON: "ConnectionStrings": { "Caramel": "..." }
#    - Env:  ConnectionStrings__Caramel=...
#    - JSON: "DiscordConfig": { "Token": "..." }
#    - Env:  DiscordConfig__Token=...
#
# 3. For Docker Compose:
#    - Create .env file with your values
#    - Run: docker-compose --env-file .env up -d
#    - Make sure .env is in .gitignore (it is)
#
# 4. For production/Kubernetes:
#    - Use your platform's secrets management (e.g., Kubernetes Secrets)
#    - Set environment variables in deployment manifests
#    - Never commit actual secrets to Git
#
# 5. Variable Precedence (highest to lowest):
#    - Environment variables
#    - User Secrets (development only)
#    - appsettings.{Environment}.json
#    - appsettings.json
#
# 2. For Docker Compose:
#    - Create .env file with your values
#    - Run: docker-compose --env-file .env up -d
#    - Make sure .env is in .gitignore (it is)
#
# 3. For production/Kubernetes:
#    - Use your platform's secrets management (e.g., Kubernetes Secrets)
#    - Set environment variables in deployment manifests
#    - Never commit actual secrets to Git
#
# 4. Variable Precedence (highest to lowest):
#    - Environment variables
#    - User Secrets (development only)
#    - appsettings.{Environment}.json
#    - appsettings.json

